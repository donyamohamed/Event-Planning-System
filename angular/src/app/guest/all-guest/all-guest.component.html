<!-- <></> -->

<div class="card container m-3 p-3 tableDiv shadow-lg">
    <div>
        <button class="btn btn-primary " (click)="openModal(template)">Add Guest</button>
    </div>
    <div class="table-responsive text-center ">
        <table id="guestTable" class="table table-hover table-borderless align-middle">
        <thead class="table-light">  
            <tr class="text-capitalize">
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Invitation State</th>
                <th>Phone</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
            <tr class="table-secondary" *ngFor="let item of guests">
                <td scope="row">{{item.id}}</td>
                <td>{{item.name}}</td>
                <td>{{item.email}}</td>
                <td>{{item.invitationState}}</td>
                <td>{{item.phone}}</td>
                <td class="d-flex justify-content-evenly">
                    <!-- <a class="btn" routerLink="edit/{{item.id}}" (click)="openEditModal(Editetemplate)"><i class="fa-solid fa-pen-to-square text-success"></i></a> -->
                    <a class="btn" (click)="openEditModal(Editetemplate,item.id)"><i class="fa-solid fa-pen-to-square text-success"></i></a>
                    <a onclick="return confirm('Are you sure you want to delete this guest?');" class="btn" routerLink="delete/{{item.id}}"><i class="fa-solid fa-trash-can text-danger" aria-hidden="true"></i></a>
                    
                </td>
            </tr>
        </tbody>
    </table>
</div>

</div>
<router-outlet></router-outlet>

  <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title" style="color: #1D2027;">Add New Guest</h4>
      <button type="button" class="close" aria-label="Close" (click)="bsModalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="Save()">
        <div>
          <label for="nameInput">Name:</label>
          <input class="form-control" type="text" id="nameInput" name="nameInput" [(ngModel)]="guest.name" required/>
        </div>
        <div>
          <label for="phoneInput">Phone:</label>
          <input class="form-control" type="text" id="phoneInput" name="phoneInput" [(ngModel)]="guest.phone" required/>
        </div>
        <div>
          <label for="emailInput">Email:</label>
          <input class="form-control" type="email" id="emailInput" name="emailInput" [(ngModel)]="guest.email" required/>
        </div>
        <div>
          <label for="invStatInput">Invitation State:</label>
          <select [(ngModel)]="guest.invitationState" id="invStatInput" name="invStatInput" class="form-control" required>
            <option value="Pending">Pending</option>
            <option value="Confirmed">Confirmed</option>
          </select>
        </div>
        <input class="btn btn-success" value="Add" type="submit"/>
      </form>
    </div>
  </ng-template>

  <ng-template #Editetemplate>
    <div class="modal-header">
      <h4 class="modal-title" style="color: #1D2027;">Add New Guest</h4>
      <button type="button" class="close" aria-label="Close" (click)="bsModalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="Save()">
        <div>
          <label for="nameInput">Name:</label>
          <input class="form-control" type="text" id="nameInput" name="nameInput" [(ngModel)]="guestEdit.name" required/>
        </div>
        <div>
          <label for="phoneInput">Phone:</label>
          <input class="form-control" type="text" id="phoneInput" name="phoneInput" [(ngModel)]="guestEdit.phone" required/>
        </div>
        <div>
          <label for="emailInput">Email:</label>
          <input class="form-control" type="email" id="emailInput" name="emailInput" [(ngModel)]="guestEdit.email" required/>
        </div>
        <div>
          <label for="invStatInput">Invitation State:</label>
          <select [(ngModel)]="guestEdit.invitationState" id="invStatInput" name="invStatInput" class="form-control" required>
            <option value="Pending">Pending</option>
            <option value="Confirmed">Confirmed</option>
          </select>
        </div>
        <input class="btn btn-success" value="Add" type="submit"/>
      </form>
    </div>
  </ng-template>
  